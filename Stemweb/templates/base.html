<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
	<head>
    	<title>
    		{% block title %} 
    			Stemweb - base layout
    		{% endblock %}
    	</title>
    	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    	<link rel="stylesheet" type="text/css" href="{{ MEDIA_URL }}css/stemweb.css" />
    	<link rel="stylesheet" type="text/css" href="{{ MEDIA_URL }}css/algorithms.css" />
    	<link rel="shortcut icon" href="#" />
		<!-- 
			Let google handle jQuery source's for faster page viewing. 
			Later it should be tested that this host is reachable and  
			if not use local jQuery source. (Probably whole internet  
			is down if google is not reachable though.)			    
		-->
    	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>
    	<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.16/jquery-ui.min.js" type="text/javascript"></script>
    	
    	{% block script_and_css %}
    	
    	{% endblock %}
    	
    	<!-- Local javascript files -->
    	<!--  
    		<script src="{{ MEDIA_URL }}javascript/" type="text/javascript"></script>
    	-->
    	
    	<!--  
    	<script type="text/javascript">
    	$(document).ready(function() 
    	{
  			(function() 
  			{
    			//settings 
			    var fadeSpeed = 200, fadeTo = 0.5, topDistance = 30;
			    var topbarME = function() { $('#main_banner_and_menu').fadeTo(fadeSpeed,1); };
			    var topbarML = function() { $('#main_banner_and_menu').fadeTo(fadeSpeed,fadeTo); };
			    var inside = false;
			    //do 
			    $(window).scroll(function() {
			    	position = $(window).scrollTop();
			      	if(position > topDistance && !inside) 
			      	{
			        	//add events 
				        topbarML();
				        $('#main_banner_and_menu').bind('mouseenter',topbarME);
				        $('#main_banner_and_menu').bind('mouseleave',topbarML);
				        inside = true;
				    }
				    else if (position < topDistance)
				    {
				     	topbarME();
				        $('#main_banner_and_menu').unbind('mouseenter',topbarME);
				        $('#main_banner_and_menu').unbind('mouseleave',topbarML);
				        inside = false;
				     }
    			});
  			})();
		});
    	</script>
    	-->
  	</head>
	
	<body>
	{% block body %}
	
	
		
		{# Banner and menu are separated from other content of the site #}
		{# so that they are always visible on the top. This should be #}
		{# static and not be altered in any of the subpages. #}
		
		<div id="main_banner_and_menu">	
		{%block main_banner_and_menu %}
		
			{# Main banner with sites logo, etc. #}
			<div id="main_banner">
			{% block main_banner %}
		
				{# placeholder #}
				{# (logo) STEMWEB - stemmatology online #}
				<img src="{{ MEDIA_URL }}img/stemweb-logo-beta.jpg" />
	
			{% endblock %}
			</div>
		
			{# Menu for site's subpages. Home, Login/User, Groups, Uploaded files, etc. #}
			{# This is probably unchanged in all the subpages. #}
			<div id='menu'>
			{% block menu %}
			
				<table id="menu_table">
				<tr>
					{# Add same kind of block for your subpage and declare "active" inside it in your subpages base.html #}
					<td class="menu_item"><a class="menu_link {% block menu_home %}{% endblock %}" href="/home">home</a></td>
					<td class="menu_item "><a class="menu_link {% block menu_algo %}{% endblock %}" href="{% url "algorithms_base_url" %}">algorithms</a></td>
					<td class="menu_item "><a class="menu_link {% block menu_files %}{% endblock %}" href="{% url "files_base_url" %}">files</a></td>
					{# <td class="menu_item"><a class="menu_link">groups</a></td> #}
					
				</tr>
				</table>
		
			{% endblock %}
			</div>
		{% endblock %}		
		</div>
		
		<!-- 
		<div id="main_banner_and_menu_padding"></div>
		-->
		
		<div id="main_content" class="box-sizing_border">
		
		
		
		{% block main_content %}
		
			{# All the other content of the site except banner and menu. This is #}
			{# changing content depending on subpage. Subpages usually have some #}
			{# kind of index on the left side and main content on the right side #}
			{# of the site. #}
		
		{% endblock %}
		
		<!--  
		<div id="footer_padding"></div>
		</div>
	
		<div id="footer">
		{% block footer %}
			Same contact infos, etc. will be shown in the footer for all subpages.
		{% endblock %}
		</div>
		-->
	{% endblock %}
	<body>
</html>
	
	
	
